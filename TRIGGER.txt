CREATE OR REPLACE TRIGGER T1 AFTER INSERT ON RESERVATION FOR EACH ROW
DECLARE
BID NUMBER;
IID NUMBER;
AMO NUMBER;
GID NUMBER;
IDATE VARCHAR2(255);
APP VARCHAR2(255);
PAYMENT VARCHAR2(255);
BEGIN
SELECT COUNT(*)+1 INTO BID FROM BILL;
IID:= :NEW.INVOICE_ID;
AMO:= 0;
IDATE:= TO_CHAR(SYSDATE,'YYYY-MM-DD');
GID:= :NEW.GUEST_ID;
APP:= 'NO';
PAYMENT:= 'NOT PAID';
--INSERT INTO INVOICE VALUES (IID,GID,IDATE);
INSERT INTO BILL VALUES (BID,IID,AMO, APP,PAYMENT ,NULL , NULL);
END;

CREATE OR REPLACE TRIGGER T2 AFTER UPDATE OF PRICE ON FOOD FOR EACH ROW
DECLARE 
SAVE1 NUMBER;
SAVE2 NUMBER;
BEGIN 
SAVE1:= :OLD.PRICE;
SAVE2:= :NEW.PRICE;
END;
/

CREATE OR REPLACE TRIGGER T4 AFTER UPDATE ON GUEST FOR EACH ROW
DECLARE
JNAME VARCHAR2(150);
JNUMBER NUMBER;
BEGIN
JNAME:= :NEW.NAME;
JNUMBER:= :OLD.GUEST_ID;
UPDATE COMPLAIN SET NAME=JNAME WHERE GUEST_ID=JNUMBER;
END;
/

CREATE OR REPLACE TRIGGER T5 AFTER UPDATE ON EMPLOYEE FOR EACH ROW
DECLARE
JNAME VARCHAR2(150);
JNUMBER NUMBER;
BEGIN
JNAME:= :NEW.NAME;
JNUMBER:= :OLD.EMP_ID;
UPDATE MAINTANENCE SET EMP_NAME=JNAME WHERE EMP_ID=JNUMBER;
END;
/





CREATE OR REPLACE TRIGGER T3 AFTER UPDATE OF PRICE ON ROOM FOR EACH ROW
DECLARE 
SAVE1 NUMBER;
SAVE2 NUMBER;
BEGIN 
SAVE1:= :OLD.PRICE;
SAVE2:= :NEW.PRICE;



END;
/